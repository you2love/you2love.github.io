<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>shell - æŠ€æœ¯åšå®¢</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="è®°å½•æŠ€æœ¯ç§¯ç´¯">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="web.html"><strong aria-hidden="true">1.</strong> web</a></li><li class="chapter-item expanded "><a href="mac.html"><strong aria-hidden="true">2.</strong> mac</a></li><li class="chapter-item expanded "><a href="docker/docker.html"><strong aria-hidden="true">3.</strong> docker</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="docker/python.html"><strong aria-hidden="true">3.1.</strong> python</a></li></ol></li><li class="chapter-item expanded "><a href="nginx/index.html"><strong aria-hidden="true">4.</strong> nginx</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="nginx/install.html"><strong aria-hidden="true">4.1.</strong> æºç å®‰è£…å‰–æ</a></li><li class="chapter-item expanded "><a href="nginx/http.html"><strong aria-hidden="true">4.2.</strong> HTTPæ¨¡å—</a></li><li class="chapter-item expanded "><a href="nginx/use.html"><strong aria-hidden="true">4.3.</strong> å¸¸ç”¨æŠ€å·§</a></li><li class="chapter-item expanded "><a href="nginx/rtmp.html"><strong aria-hidden="true">4.4.</strong> rtmp</a></li></ol></li><li class="chapter-item expanded "><a href="golang/golang.html"><strong aria-hidden="true">5.</strong> golang</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="golang/grpc.html"><strong aria-hidden="true">5.1.</strong> grpc</a></li><li class="chapter-item expanded "><a href="golang/code.html"><strong aria-hidden="true">5.2.</strong> code</a></li><li class="chapter-item expanded "><a href="golang/context.html"><strong aria-hidden="true">5.3.</strong> context</a></li><li class="chapter-item expanded "><a href="golang/echo.html"><strong aria-hidden="true">5.4.</strong> echo</a></li><li class="chapter-item expanded "><a href="golang/freetype.html"><strong aria-hidden="true">5.5.</strong> freetype</a></li><li class="chapter-item expanded "><a href="golang/generic.html"><strong aria-hidden="true">5.6.</strong> generic</a></li><li class="chapter-item expanded "><a href="golang/gin.html"><strong aria-hidden="true">5.7.</strong> gin</a></li><li class="chapter-item expanded "><a href="golang/go-git.html"><strong aria-hidden="true">5.8.</strong> go-git</a></li><li class="chapter-item expanded "><a href="golang/groupby.html"><strong aria-hidden="true">5.9.</strong> groupby</a></li><li class="chapter-item expanded "><a href="golang/io.html"><strong aria-hidden="true">5.10.</strong> io</a></li><li class="chapter-item expanded "><a href="golang/iris.html"><strong aria-hidden="true">5.11.</strong> iris</a></li><li class="chapter-item expanded "><a href="golang/log.html"><strong aria-hidden="true">5.12.</strong> log</a></li><li class="chapter-item expanded "><a href="golang/package.html"><strong aria-hidden="true">5.13.</strong> package</a></li><li class="chapter-item expanded "><a href="golang/regexp.html"><strong aria-hidden="true">5.14.</strong> regexp</a></li><li class="chapter-item expanded "><a href="golang/shell.html"><strong aria-hidden="true">5.15.</strong> shell</a></li><li class="chapter-item expanded "><a href="golang/sort.html"><strong aria-hidden="true">5.16.</strong> sort</a></li><li class="chapter-item expanded "><a href="golang/stringer.html"><strong aria-hidden="true">5.17.</strong> stringer</a></li></ol></li><li class="chapter-item expanded "><a href="python/python.html"><strong aria-hidden="true">6.</strong> python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="python/fabric.html"><strong aria-hidden="true">6.1.</strong> fabric</a></li><li class="chapter-item expanded "><a href="python/fastapi.html"><strong aria-hidden="true">6.2.</strong> fastapi</a></li><li class="chapter-item expanded "><a href="python/memcached.html"><strong aria-hidden="true">6.3.</strong> memcached</a></li><li class="chapter-item expanded "><a href="python/numpy.html"><strong aria-hidden="true">6.4.</strong> numpy</a></li><li class="chapter-item expanded "><a href="python/ocr.html"><strong aria-hidden="true">6.5.</strong> ocr</a></li><li class="chapter-item expanded "><a href="python/paddleocr.html"><strong aria-hidden="true">6.6.</strong> paddleocr</a></li><li class="chapter-item expanded "><a href="python/redis.html"><strong aria-hidden="true">6.7.</strong> redis</a></li><li class="chapter-item expanded "><a href="python/requests.html"><strong aria-hidden="true">6.8.</strong> requests</a></li><li class="chapter-item expanded "><a href="python/httpx.html"><strong aria-hidden="true">6.9.</strong> httpx</a></li><li class="chapter-item expanded "><a href="python/opencv.html"><strong aria-hidden="true">6.10.</strong> opencv</a></li><li class="chapter-item expanded "><a href="python/js2py.html"><strong aria-hidden="true">6.11.</strong> js2py</a></li><li class="chapter-item expanded "><a href="python/woff.html"><strong aria-hidden="true">6.12.</strong> woff</a></li><li class="chapter-item expanded "><a href="python/svg.html"><strong aria-hidden="true">6.13.</strong> svg</a></li></ol></li><li class="chapter-item expanded "><a href="c++/c++.html"><strong aria-hidden="true">7.</strong> c++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="c++/lz78.html"><strong aria-hidden="true">7.1.</strong> lz78ç®—æ³•</a></li><li class="chapter-item expanded "><a href="c++/perm.html"><strong aria-hidden="true">7.2.</strong> æ’åˆ—ç”Ÿæˆ</a></li><li class="chapter-item expanded "><a href="c++/random.html"><strong aria-hidden="true">7.3.</strong> éšæœºæ•°ç”Ÿæˆ</a></li></ol></li><li class="chapter-item expanded "><a href="memcached.html"><strong aria-hidden="true">8.</strong> memcached</a></li><li class="chapter-item expanded "><a href="redis.html"><strong aria-hidden="true">9.</strong> redis</a></li><li class="chapter-item expanded "><a href="mysql.html"><strong aria-hidden="true">10.</strong> mysql</a></li><li class="chapter-item expanded "><a href="markdown.html"><strong aria-hidden="true">11.</strong> markdown</a></li><li class="chapter-item expanded "><a href="rust.html"><strong aria-hidden="true">12.</strong> rust</a></li><li class="chapter-item expanded "><a href="unity/unity.html"><strong aria-hidden="true">13.</strong> unity</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="unity/et.html"><strong aria-hidden="true">13.1.</strong> ETæ¡†æ¶</a></li></ol></li><li class="chapter-item expanded "><a href="git.html"><strong aria-hidden="true">14.</strong> git</a></li><li class="chapter-item expanded "><a href="grpc.html"><strong aria-hidden="true">15.</strong> grpc</a></li><li class="chapter-item expanded "><a href="brew.html"><strong aria-hidden="true">16.</strong> brew-é…¿åˆ¶</a></li><li class="chapter-item expanded "><a href="gogs.html"><strong aria-hidden="true">17.</strong> gogs-ä»£ç æ‰˜ç®¡</a></li><li class="chapter-item expanded "><a href="mermaid.html"><strong aria-hidden="true">18.</strong> mermaid-ç¾äººé±¼</a></li><li class="chapter-item expanded "><a href="shell.html" class="active"><strong aria-hidden="true">19.</strong> shell</a></li><li class="chapter-item expanded "><a href="wireshark.html"><strong aria-hidden="true">20.</strong> wireshark</a></li><li class="chapter-item expanded "><a href="windows.html"><strong aria-hidden="true">21.</strong> windows</a></li><li class="chapter-item expanded "><a href="elastic.html"><strong aria-hidden="true">22.</strong> elastic</a></li><li class="chapter-item expanded "><a href="jenkins.html"><strong aria-hidden="true">23.</strong> jenkins</a></li><li class="chapter-item expanded "><a href="vim.html"><strong aria-hidden="true">24.</strong> vim</a></li><li class="chapter-item expanded "><a href="makefile.html"><strong aria-hidden="true">25.</strong> makefile</a></li><li class="chapter-item expanded "><a href="github.html"><strong aria-hidden="true">26.</strong> github</a></li><li class="chapter-item expanded "><a href="firefox.html"><strong aria-hidden="true">27.</strong> firefox</a></li><li class="chapter-item expanded "><a href="flutter.html"><strong aria-hidden="true">28.</strong> flutter</a></li><li class="chapter-item expanded "><a href="tesseract.html"><strong aria-hidden="true">29.</strong> tesseract</a></li><li class="chapter-item expanded "><a href="harbor.html"><strong aria-hidden="true">30.</strong> harbor</a></li><li class="chapter-item expanded "><a href="gitlab.html"><strong aria-hidden="true">31.</strong> gitlab</a></li><li class="chapter-item expanded "><a href="geocode.html"><strong aria-hidden="true">32.</strong> åœ°ç†ç¼–ç </a></li><li class="chapter-item expanded "><a href="hugo.html"><strong aria-hidden="true">33.</strong> hugo</a></li><li class="chapter-item expanded "><a href="svn.html"><strong aria-hidden="true">34.</strong> svn</a></li><li class="chapter-item expanded "><a href="important.html"><strong aria-hidden="true">35.</strong> é‡è¦</a></li><li class="chapter-item expanded "><a href="rpc.html"><strong aria-hidden="true">36.</strong> rpc</a></li><li class="chapter-item expanded "><a href="search.html"><strong aria-hidden="true">37.</strong> æœç´¢æŠ€å·§</a></li><li class="chapter-item expanded "><a href="other.html"><strong aria-hidden="true">38.</strong> æ‚é¡¹</a></li><li class="chapter-item expanded "><a href="opensource.html"><strong aria-hidden="true">39.</strong> ä¼˜ç§€å¼€æºè½¯ä»¶</a></li><li class="chapter-item expanded "><a href="machinelearn.html"><strong aria-hidden="true">40.</strong> æœºå™¨å­¦ä¹ </a></li><li class="chapter-item expanded "><a href="ai.html"><strong aria-hidden="true">41.</strong> ai</a></li><li class="chapter-item expanded "><a href="wasm.html"><strong aria-hidden="true">42.</strong> wasm</a></li><li class="chapter-item expanded "><a href="aliyun.html"><strong aria-hidden="true">43.</strong> é˜¿é‡Œäº‘</a></li><li class="chapter-item expanded "><a href="tencent.html"><strong aria-hidden="true">44.</strong> è…¾è®¯</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">æŠ€æœ¯åšå®¢</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<h1 id="shell"><a class="header" href="#shell">shell</a></h1>
<hr />
<h2 id="å‡çº§æ›¿æ¢ç³»ç»Ÿå‘½ä»¤-modern-unix"><a class="header" href="#å‡çº§æ›¿æ¢ç³»ç»Ÿå‘½ä»¤-modern-unix">å‡çº§æ›¿æ¢ç³»ç»Ÿå‘½ä»¤-<a href="https://github.com/ibraheemdev/modern-unix">modern-unix)</a></a></h2>
<ul>
<li>batä»£æ›¿cat, bat ç›¸æ¯” cat å¢åŠ äº†è¡Œå·å’Œé¢œè‰²é«˜äº® ğŸ‘</li>
<li>dufä»£æ›¿df</li>
<li>exaä»£æ›¿ls</li>
<li>dustä»£æ›¿du</li>
<li>procsä»£æ›¿ps</li>
<li>difftæ›¿ä»£diff</li>
<li>McFly(<a href="https://github.com/cantino/mcfly">https://github.com/cantino/mcfly</a>)</li>
<li>zoxideä»£æ›¿cd,å¯èƒ½ä¸ç”¨å¯åŠ¨z</li>
<li>tldræ›¿ä»£man, <a href="https://github.com/tldr-pages/tldr">tldr-github</a> pip install tldr</li>
<li>ctrl+r æœç´¢å†å²å‘½ä»¤</li>
</ul>
<pre><code class="language-bash"># æˆ–è€…ctrl+r
mcfly search
</code></pre>
<h3 id="å¹¶å‘å¯åŠ¨å‘½ä»¤"><a class="header" href="#å¹¶å‘å¯åŠ¨å‘½ä»¤">å¹¶å‘å¯åŠ¨å‘½ä»¤</a></h3>
<pre><code class="language-bash">for var in {0..2}
do
    #ç”¨{}æŠŠå¾ªç¯ä½“æ‹¬èµ·æ¥ï¼ŒååŠ ä¸€ä¸ª&amp;ç¬¦å·ï¼Œä»£è¡¨æ¯æ¬¡å¾ªç¯éƒ½æŠŠå‘½ä»¤æ”¾å…¥åå°è¿è¡Œ
    #ä¸€æ—¦æ”¾å…¥åå°ï¼Œå°±æ„å‘³ç€{}é‡Œé¢çš„å‘½ä»¤äº¤ç»™æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªçº¿ç¨‹å¤„ç†äº†
    {
        echo ${var}
    }&amp;
done
wait

#waitå‘½ä»¤çš„æ„æ€æ˜¯ï¼Œç­‰å¾…ï¼ˆwaitå‘½ä»¤ï¼‰ä¸Šé¢çš„å‘½ä»¤ï¼ˆæ”¾å…¥åå°çš„ï¼‰éƒ½æ‰§è¡Œå®Œæ¯•äº†å†å¾€ä¸‹æ‰§è¡Œ
</code></pre>
<h3 id="å¸¸ç”¨æºç›®å½•"><a class="header" href="#å¸¸ç”¨æºç›®å½•">å¸¸ç”¨æºç›®å½•</a></h3>
<ul>
<li>/etc/yum.repos.d</li>
</ul>
<h3 id="systemdæ–°æ—¶ä»£linuxæœåŠ¡ç®¡ç†è½¯ä»¶å°±æ˜¯å¹³æ—¶ä½¿ç”¨systemctl-start-stop-enable-disable-status-xxx"><a class="header" href="#systemdæ–°æ—¶ä»£linuxæœåŠ¡ç®¡ç†è½¯ä»¶å°±æ˜¯å¹³æ—¶ä½¿ç”¨systemctl-start-stop-enable-disable-status-xxx">systemdæ–°æ—¶ä»£linuxæœåŠ¡ç®¡ç†è½¯ä»¶,å°±æ˜¯å¹³æ—¶ä½¿ç”¨(systemctl start stop enable disable status) xxx</a></h3>
<ul>
<li>systemdæ˜¯ä¸€ä¸ªæœåŠ¡ç®¡ç†å™¨,å®ƒä½¿ç®¡ç†æœåŠ¡å™¨å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li>
<li>å¯¹äºæ”¯æŒ systemd çš„è½¯ä»¶ï¼Œå®‰è£…çš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨çš„åœ¨ /usr/lib/systemd/system ç›®å½•æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶</li>
<li>/lib -&gt; /usr/lib é€šå¸¸è·¯å¾„è¢«è½¯é“¾æ¥
<img src="webp/shell/link.webp" alt="link" /></li>
</ul>
<h3 id="curlå¸¦ç”¨æˆ·åå¯†ç çš„posæäº¤"><a class="header" href="#curlå¸¦ç”¨æˆ·åå¯†ç çš„posæäº¤">curlå¸¦ç”¨æˆ·åå¯†ç çš„posæäº¤</a></h3>
<pre><code class="language-bash">curl -i -X POST \
 http://localhost:4080/api/test/_doc \
 -u user:pwd \
  -H 'Content-Type: application/json' \
  -d '{&quot;name&quot;:&quot;ä¸­æ–‡12344&quot;, &quot;value&quot;:&quot;https://abc.iste/&quot;}'

curl -X DELETE \
 http://127.0.0.1:4080/api/index/xxx/ \
 -u user:pwd

# è·å–æœ¬æœºå¤–ç½‘ip
curl ifconfig.me
</code></pre>
<h2 id="æŸ¥çœ‹å“ªä¸ªå‘½ä»¤åœ¨å“ªä¸ªåŒ…ä¸­"><a class="header" href="#æŸ¥çœ‹å“ªä¸ªå‘½ä»¤åœ¨å“ªä¸ªåŒ…ä¸­">æŸ¥çœ‹å“ªä¸ªå‘½ä»¤åœ¨å“ªä¸ªåŒ…ä¸­</a></h2>
<pre><code class="language-bash"># dnfæ˜¯yumçš„ç»§æ‰¿è€…,æ›´å¥½ç”¨
# æŸ¥æ‰¾æä¾›æŒ‡å®šå†…å®¹çš„è½¯ä»¶åŒ…
dnf provides '*/chsh'
# ä»¥ Fedora ä¸ºåŸºå‡†çš„å®‰è£…åŒ…å¦‚ä¸‹
dnf install -y util-linux-user
# æœç´¢ä¸€å®šè¦åŠ å¼•å·
dnf search 'keyword'

# ä¿®æ”¹é»˜è®¤çš„shell
chsh [option] user

# å¸¦è°ƒè¯•æŸ¥çœ‹sshç™»é™†è¿‡ç¨‹,ç”¨äºå¡
ssh -vvv xxxx

# åæ¥ssh -v ç™»å½•æŸ¥çœ‹äº†ä¸‹æ—¥å¿—ï¼Œå‘ç°ä¸€ç›´å¡åœ¨debug1: SSH2_MSG_KEXINIT sentã€‚ç›´åˆ°æœ€åé“¾æ¥å¤±è´¥ã€‚
# ç½‘ä¸ŠæŸ¥äº†å¾ˆå¤šï¼Œå‘ç°æ˜¯å› ä¸ºmtuè®¾ç½®çš„æ•°å€¼å¤ªå¤§ã€‚ç½‘ç»œ-&gt;é«˜çº§-&gt;æ‰‹åŠ¨(å¹³æ—¶æ˜¯è‡ªåŠ¨)-&gt;æŒ‡å®š1500
</code></pre>
<h2 id="sshconfigç®¡ç†å¤šä¸ªsshå¯†é’¥"><a class="header" href="#sshconfigç®¡ç†å¤šä¸ªsshå¯†é’¥">.ssh/configç®¡ç†å¤šä¸ªsshå¯†é’¥</a></h2>
<hr />
<ol>
<li>
<p>~/.ssh/configå¦‚æœä¸å­˜åœ¨,åˆ™åˆ›å»º.</p>
<pre><code class="language-sh">...

# Hostå¯ä»¥è‡ªå®šä¹‰
Host github2
    # github.comè¿™ä¸ªæ˜¯çœŸå®è¿œç¨‹æœåŠ¡å™¨,ä¸èƒ½ä¿®æ”¹
    # id_ecdsa.pubå†…å®¹è¦åœ¨githubç›¸åº”å¸æˆ·æ·»åŠ ä¸ºsshå¯†é’¥
    HostName github.com
    PreferredAuthentications publickey
    # æŒ‡æ˜ç”¨å“ªä¸ªæ–‡ä»¶
    IdentityFile ~/.ssh/id_ecdsa

...
</code></pre>
<ul>
<li>Hostçš„å®šä¹‰å¯ä»¥æœ‰å¤šç»„,ç”¨æŒ‡å®šå“ªä¸ªsshå¯†é’¥å¯¹åº”å“ªä¸ªHostName/Host</li>
<li>ä¸€èˆ¬ä¸åŒåŸŸåä¸åŒsshå¯†é’¥ä¸ç”¨é…ç½®config,èƒ½è‡ªåŠ¨æŸ¥æ‰¾å¯¹åº”</li>
</ul>
</li>
<li>
<p>æµ‹è¯•config</p>
<pre><code class="language-sh">
#github2ä¸ºconfigæ–‡ä»¶ä¸­çš„Hostå€¼
ssh -T git@github2

# æŸ¥çœ‹sshç™»é™†è¯¦æƒ…
ssh -vvvT git@github2

</code></pre>
<ul>
<li>å¦‚æœgithub.comçš„å¸æˆ·usernameè®¾ç½®äº†id_ecdsa.pub</li>
<li>åˆ™ä¼šå›åŒ…Hi username! You've successfully authenticated, but GitHub does not provide shell access</li>
</ul>
</li>
<li>
<p>ä¿®æ”¹è¿œç¨‹ä»“åº“url</p>
<pre><code class="language-sh">#git@github.com:username/reposname.git==&gt;git@github2:username/reposname.git
#github2ä¸ºconfigæ–‡ä»¶ä¸­çš„Hostå€¼,è¡¨æ˜reposnameè¦é‡‡ç”¨id_ecdsaå¯†é’¥
git clone git@github2:username/reposname.git

</code></pre>
</li>
<li>
<p>æœ¬åœ°reposenameé…ç½®.git/config</p>
<pre><code class="language-sh">cd reposname
git config user.name 'username'
git config user.email 'username@xx.com'
</code></pre>
<ul>
<li>githubæ ¹æ®é…ç½®æ–‡ä»¶çš„user.emailæ¥è·å–githubå¸å·æ˜¾ç¤ºauthorä¿¡æ¯</li>
</ul>
</li>
</ol>
<h2 id="åœ¨è¿æ¥è¿œç¨‹sshæœåŠ¡çš„æ—¶å€™ç»å¸¸ä¼šå‘ç”Ÿé•¿æ—¶é—´åçš„æ–­çº¿æˆ–è€…æ— å“åº”æ— æ³•å†é”®ç›˜è¾“å…¥"><a class="header" href="#åœ¨è¿æ¥è¿œç¨‹sshæœåŠ¡çš„æ—¶å€™ç»å¸¸ä¼šå‘ç”Ÿé•¿æ—¶é—´åçš„æ–­çº¿æˆ–è€…æ— å“åº”æ— æ³•å†é”®ç›˜è¾“å…¥">åœ¨è¿æ¥è¿œç¨‹SSHæœåŠ¡çš„æ—¶å€™,ç»å¸¸ä¼šå‘ç”Ÿé•¿æ—¶é—´åçš„æ–­çº¿ï¼Œæˆ–è€…æ— å“åº”ï¼ˆæ— æ³•å†é”®ç›˜è¾“å…¥)</a></h2>
<ul>
<li>å®¢æˆ·ç«¯å®šæ—¶å‘é€å¿ƒè·³,æ·»åŠ ä¿®æ”¹æœ¬æœº~/ssh/config</li>
</ul>
<pre><code class="language-bash">vim config

# å³æ¯éš”30ç§’ï¼Œå‘æœåŠ¡å™¨å‘å‡ºä¸€æ¬¡å¿ƒè·³
ServerAliveInterval 30
# è‹¥è¶…è¿‡100æ¬¡è¯·æ±‚ï¼Œéƒ½æ²¡æœ‰å‘é€æˆåŠŸï¼Œåˆ™ä¼šä¸»åŠ¨æ–­å¼€ä¸æœåŠ¡å™¨ç«¯çš„è¿æ¥ã€‚
ServerAliveCountMax 100
</code></pre>
<ul>
<li>æœåŠ¡å™¨ç«¯å®šæ—¶å‘å®¢æˆ·ç«¯å‘é€å¿ƒè·³,ä¿®æ”¹æœåŠ¡å™¨ç«¯ sshé…ç½® /etc/ssh/sshd_config</li>
</ul>
<pre><code class="language-bash">vim /etc/ssh/sshd_config
# è¡¨ç¤ºæ¯éš”å¤šå°‘ç§’ï¼ŒæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å‘é€å¿ƒè·³
ClientAliveInterval 30
# è¡¨ç¤ºä¸Šè¿°å¤šå°‘æ¬¡å¿ƒè·³æ— å“åº”ä¹‹åï¼Œä¼šè®¤ä¸ºClientå·²ç»æ–­å¼€
ClientAliveCountMax 6
</code></pre>
<h2 id="xargså‘½ä»¤è¡Œå‚æ•°å’Œæ ‡å‡†è¾“å…¥"><a class="header" href="#xargså‘½ä»¤è¡Œå‚æ•°å’Œæ ‡å‡†è¾“å…¥">xargs(å‘½ä»¤è¡Œå‚æ•°)å’Œ|(æ ‡å‡†è¾“å…¥)</a></h2>
<hr />
<pre><code class="language-sh">#findæ ‡å‡†è¾“å‡ºä¸ºæ¯è¡Œä¸€ä¸ªæ–‡ä»¶å

#ç›´æ¥é€šè¿‡ç®¡é“è½¬ä¸ºgrepçš„æ ‡å‡†è¾“å…¥,åˆ™grepæœç´¢æ ‡å‡†è¾“å…¥åŒ…æ‹¬protobufçš„
#è¾“å‡ºç»“æœ:æ–‡ä»¶åä»¥.modç»“æŸä¸”åŒ…æ‹¬protobuf
find . -name &quot;*.mod&quot; | grep protobuf

#ç®¡é“è½¬ä¸ºxargsçš„æ ‡å‡†è¾“å…¥,
#xargsæŠŠæ ‡å‡†è¾“å…¥è½¬åŒ–ä¸ºgrepçš„å‚æ•°
#grepæŒ‡å®šçš„æ–‡ä»¶åé‡Œå†…å®¹åŒ…æ‹¬protobufçš„
#è¾“å‡ºç»“æœ:æ–‡ä»¶åä»¥.modç»“æŸä¸”æ–‡ä»¶å†…å®¹åŒ…æ‹¬protobuf
find . -name &quot;*.mod&quot; | xargs grep protobuf

# æœç´¢åå­—å«htmlç›®å½•
find . -type d -name 'html'
</code></pre>
<ul>
<li>ç®¡é“(|)çš„ä½œç”¨æ˜¯å°†å‰é¢å‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä½œä¸ºåé¢å‘½ä»¤çš„æ ‡å‡†è¾“å…¥</li>
<li>xargså°†æ ‡å‡†è¾“å…¥è½¬æˆå„ç§æ ¼å¼åŒ–çš„å‚æ•°</li>
</ul>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a class="header" href="#å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</a></h2>
<hr />
<pre><code class="language-sh">
set -v å›æ˜¾å‘½ä»¤ï¼Œä½†ä¸æ›¿æ¢å˜é‡å€¼
set -x å›æ˜¾å‘½åï¼Œæ›¿æ¢å˜é‡å€¼

# ç”¨åŒå¼•å·å¤„ç†å¸¦ç©ºæ ¼çš„æ–‡ä»¶
cp &quot;å¸¦ç©ºæ ¼çš„æ–‡ä»¶&quot; newfile

ls -l | grep &quot;^-&quot; | wc -l å½“å‰ç›®å½•ä¸‹æ–‡ä»¶æ€»æ•°

# linuxç½‘ç»œå…±äº«ç½‘ç›˜nfsï¼Œ/etc/exportsæ–‡ä»¶å¢åŠ ä¸€ä¸ªå…±äº«ç›®å½•

#äº§ç”Ÿsshå¯†é’¥å¯¹,æ³¨æ„-Cå¤§å†™,ä¿å­˜id_rsaæ–‡ä»¶å,sshä¼šé»˜è®¤è¯»å–,å¦åˆ™å°±è¦æ˜ç¡®æŒ‡å‡º
#-bï¼šæŒ‡å®šå¯†é’¥é•¿åº¦ï¼›-Cï¼šæ·»åŠ æ³¨é‡Šï¼›-fï¼šæŒ‡å®šç”¨æ¥ä¿å­˜å¯†é’¥çš„æ–‡ä»¶åï¼›-tï¼šæŒ‡å®šè¦åˆ›å»ºçš„å¯†é’¥ç±»å‹ã€‚
#ç°åœ¨å¾ˆå¤šåœ°æ–¹éƒ½ä¸æ”¯æŒrsa,å»ºè®®é‡‡ç”¨ed25519/ecdsa
# -t [dsa | ecdsa | ecdsa-sk | ed25519 | ed25519-sk | rsa]
ssh-keygenÂ -tÂ rsaÂ -CÂ &quot;xxx@aliyun.com&quot;Â -fÂ id_rsa
# æ³¨æ„-tä¹‹åçš„ç©ºæ ¼,æœ‰å¯èƒ½æç¤ºä¸è¯†åˆ«å‚æ•°
ssh-keygen -tÂ ed25519 -CÂ &quot;xxx@aliyun.com&quot;Â -fÂ id_ed25519

# æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„shell
echo $SHELL

# å¿«é€Ÿåˆ‡æ¢ç›®å½•, vim .bashrc/.zshrc source .bashrc/.zshrc
export $CDPATH=.:~:/xxx/

#è·å–å†å²å‘½ä»¤
#zsh
cat  $HOME/.zsh_history
#bsh
cat  $HOME/.bash_history

# æŸ¥çœ‹ç£ç›˜å ç”¨æƒ…å†µ
df -h
#æŸ¥çœ‹å½“å‰ä¸€çº§ç›®å½•æ–‡ä»¶å¤§å°
du -h --max-depth=1

# æ¸…ç©º./var/journalctlæ—¥å¿—
journalctl --vacuum-size=10M

# lsäººæ€§åŒ–é˜…è¯»
ls -lh

# å¤åˆ¶åˆ°ç²˜è´´æ¿
#windows
clip &lt; ~/.ssh/id_ed25519.pub
#mac
pbcopy &lt; ~/.ssh/id_ed25519.pub
#linux
xclip -sel clip &lt; ~/.ssh/id_ed25519.pub

# è·å–è„šæœ¬æ‰€åœ¨ç›®å½•
dirname $0
cd `dirname $0`
pwd

# è·å–homeç›®å½•
echo $HOME


# å½“å‰æ—¶é—´ã€ç³»ç»Ÿå·²ç»è¿è¡Œäº†å¤šé•¿æ—¶é—´ã€ç›®å‰æœ‰å¤šå°‘ç™»é™†ç”¨æˆ·ã€ç³»ç»Ÿåœ¨è¿‡å»çš„1åˆ†é’Ÿã€5åˆ†é’Ÿå’Œ15åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½ã€‚
uptime

# è§£å†³sshè¶…çº§æ…¢(å»é™¤æœåŠ¡ç«¯åˆ©ç”¨dnsåæŸ¥å®¢æˆ·ç«¯)
vi /etc/ssh/sshd_config
UseDNS no
GSSAPIAuthentication no

# åˆ—å‡ºæ‰€æœ‰ç›‘å¬tcpç«¯å£ç¨‹åº
netstat -ltpn
#æŸ¥çœ‹æ‰€æœ‰æœåŠ¡ç›‘å¬ç«¯å£
netstat -a

# ç›‘å¬tcpæŒ‡å®šç«¯å£
tcpdump tcp port xxx

#æŸ¥çœ‹ç½‘å¡æµé‡:æ¯1ç§’ æ˜¾ç¤º 1æ¬¡ æ˜¾ç¤º 10æ¬¡
sar -n DEV 1 10

# æŸ¥çœ‹å‘½ä»¤æ‰§è¡Œæƒ…å†µ
set -V

#é˜²ç«å¢™:
#æŸ¥çœ‹æ˜¯å¦æ‰“å¼€ç«¯å£:
firewall-cmd --list-all
#æ·»åŠ ç«¯å£:
firewall-cmd --permanent --add-port=3000/tcp
#æ‰¹é‡å¢åŠ ç«¯å£:
firewall-cmd --permanent --zone=public --add-port=7000-8000/tcp
#ç§»é™¤ç«¯å£:
firewall-cmd --permanent --remove-port=7780/tcp
#é‡æ–°åŠ è½½è§„åˆ™ç”Ÿæ•ˆ
firewall-cmd --reload

#æŸ¥æ‰¾å‰20åå ç”¨å†…å­˜è¾ƒå¤§:
ps aux | head -1;ps aux |grep -v PID |sort -rn -k +4 | head -20

# å»ºç«‹è½¯è¿æ¥
ln -s çœŸå®å­˜åœ¨ç›®å½• è½¯é“¾æ¥
</code></pre>
<h2 id="ç§¯ç´¯"><a class="header" href="#ç§¯ç´¯">ç§¯ç´¯</a></h2>
<pre><code class="language-sh"># ä½¿ç”¨-jå‚æ•° ä¸å¤„ç†å‹ç¼©æ–‡ä»¶ä¸­åŸæ¥ç›®å½•è·¯å¾„
zip -qj file.zip /xxx/xx/xx
</code></pre>
<h2 id="ç¤ºä¾‹è„šæœ¬"><a class="header" href="#ç¤ºä¾‹è„šæœ¬">ç¤ºä¾‹è„šæœ¬</a></h2>
<hr />
<ul>
<li>linux æ™®é€šç”¨æˆ·å®ç°sudoå…å¯†</li>
</ul>
<pre><code class="language-bash">vim /etc/sudoers.d
å¢åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹
username ALL=(ALL) NOPASSWD:ALL
</code></pre>
<ul>
<li>åˆ©ç”¨gitéƒ¨ç½²æ›´æ–°è„šæœ¬</li>
</ul>
<pre><code class="language-bash">#!/usr/bin/env bash

cd ${gitdir}
# æ‰¹é‡æ€æ­»ç›‘æ§è¿›ç¨‹ shellè„šæœ¬æˆ–ä¸“ç”¨ç®¡ç†ç¨‹åº
ps -ef|grep xxx | grep -v grep | awk '{print $2}' | xargs kill -9
# æ‰¹é‡æ€æ­»ç›®æ ‡è¿›ç¨‹
ps -ef|grep yyy | grep -v grep | awk '{print $2}' | xargs kill -9
# æ‹‰å–æœ€æ–°ç¨‹åº
git pull
# è·‘èµ·ç›‘æ§è¿›ç¨‹
nohup ./xxx.sh &gt;/dev/null 2&gt;&amp;1 &amp;
</code></pre>
<ul>
<li>ç›‘æ§è„šæœ¬</li>
</ul>
<pre><code class="language-bash">#!/usr/bin/env bash

while true
do
   # æŸ¥çœ‹ç›®æ ‡è¿›ç¨‹è¿˜åœ¨ä¸åœ¨
   procnum=` ps -ef|grep &quot;yyy$&quot;|grep -v grep|wc -l`
   if [ $procnum -eq 0 ]; then
     cd ${basedir}
     nohup ./yyy &gt;/dev/null 2&gt;&amp;1 &amp;
   fi

   # å»¶æ—¶30ç§’
   sleep 30
done
</code></pre>
<ul>
<li>ç¼–è¯‘è„šæœ¬</li>
</ul>
<pre><code class="language-bash">#!/usr/bin/env bash
# æ‰¹é‡æ€æ­»ç›®æ ‡è¿›ç¨‹
ps -ef|grep yyy | grep -v grep | awk '{print $2}' | xargs kill -9
hash=`git rev-parse --short HEAD`
rc=`date &quot;+%Y-%m-%d_%H:%M:%S&quot;`
target=yyy
go build -ldflags &quot;-s -w -X main.GitHash=${hash} -X main.CompileTime=${rc}&quot; -tags=jsoniter -o ${target} ${target}.go
chmod a+x ${target}
rundir=${target}_run
rm -rf ${rundir}
mkdir ${rundir}
mv ${target} ${rundir}
cp -r conf ${rundir}/
nohup ./${target} &gt;/dev/null 2&gt;&amp;1 &amp;
exit
</code></pre>
<ul>
<li>è®¾ç½®åŒ—äº¬æ—¶é—´</li>
</ul>
<pre><code class="language-bash">sudo timedatectl set-timezone Asia/Shanghai
</code></pre>
<h3 id="å¸¸è§åŒ…ç®¡ç†"><a class="header" href="#å¸¸è§åŒ…ç®¡ç†">å¸¸è§åŒ…ç®¡ç†</a></h3>
<ul>
<li>apt = apt-getã€apt-cache å’Œ apt-config ä¸­æœ€å¸¸ç”¨å‘½ä»¤é€‰é¡¹çš„é›†åˆã€‚</li>
<li>dnf æ˜¯ yumçš„å‡çº§ç‰ˆ</li>
</ul>
<h3 id="æ˜¾å¡"><a class="header" href="#æ˜¾å¡">æ˜¾å¡</a></h3>
<pre><code class="language-bash">sudo lshw -numeric -C displayæ˜¾ç¤ºæ˜¾å¡ä¿¡æ¯ï¼Œlspci | grep -i vga
</code></pre>
<p><img src="webp/shell/vga.webp" alt="vga" /></p>
<h3 id="æƒé™é”™è¯¯"><a class="header" href="#æƒé™é”™è¯¯">æƒé™é”™è¯¯</a></h3>
<pre><code class="language-bash"># Permissions 0644 for '/root/.ssh/id_ecdsa' are too open
# é™ä½æƒé™
chmod 0600 ~/.ssh/id_ecdsa
</code></pre>
<h3 id="mlocate-æ›´å¿«çš„find"><a class="header" href="#mlocate-æ›´å¿«çš„find">mlocate-æ›´å¿«çš„find</a></h3>
<blockquote>
<p>è¿™ä¸ªå‘½ä»¤çš„åŸç†æ˜¯ï¼Œå…ˆä¸ºæ–‡ä»¶ç³»ç»Ÿåˆ›å»ºç´¢å¼•æ•°æ®åº“ï¼Œmlocateåªæ˜¯æœç´¢ç´¢å¼•ï¼Œæ‰€ä»¥é€Ÿåº¦å¿«
å¯¹äºæ–°å¢æ–‡ä»¶åº”è¯¥å…ˆupdatedbæ›´æ–°æ•°æ®åº“ï¼Œå¦åˆ™å°±æœä¸åˆ°ï¼Œå½“ç„¶æ›´æ–°ç´¢å¼•æ—¶ï¼Œæ‰§è¡Œupdatedbè¿˜æ˜¯æ¯”è¾ƒå¿«çš„
mlocateåœ¨å¾ˆå¤šç³»ç»Ÿä¸­å’ŒlocateåŒå</p>
</blockquote>
<pre><code class="language-bash">
#åˆ›å»ºç´¢å¼• æ‰«ææ•´ä¸ªç³»ç»Ÿï¼Œä¸ºæ•´ä¸ªç³»ç»Ÿåˆ›å»ºç´¢å¼•ï¼Œæ•°æ®åº“åœ¨/var/lib/mlocate/mlocate.db
sudo updatedb

mlocate  abc.txt

mlocate  -ie  abc.txt   å¦‚æœ abc.txtå·²ç»åˆ é™¤äº†ï¼Œä½¿ç”¨-eä¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦çœŸå®å­˜åœ¨ï¼Œè€Œä¸å¿…updatedbï¼›-iï¼Œå¿½ç•¥å¤§å°å†™

mlocate  /etc/*profile   åœ¨/etcä¸­æŸ¥æ‰¾ç±»ä¼¼profileçš„æ–‡ä»¶
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="mermaid.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="wireshark.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="mermaid.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="wireshark.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="mermaid.min.js"></script>
        <script type="text/javascript" src="mermaid-init.js"></script>


    </body>
</html>
